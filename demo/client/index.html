<!doctype html>

<html lang="en">
<head>
  <meta charset="utf-8">

  <title>Demo</title>
<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.0-beta2/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-BmbxuPwQa2lc/FVzBcNJ7UAyJxM6wuqIj61tLrc4wSX0szH/Ev+nYRRuWlolflfl" crossorigin="anonymous">
  <link rel="stylesheet" href="style.css">

</head>

<body>



  <script>
    function sendData(){
      var xhr = new XMLHttpRequest();
        var url = "http://lvh.me:5000/getprediction";
        xhr.open("POST", url, true);
        xhr.setRequestHeader("Content-Type", "application/json");
        xhr.setRequestHeader("Access-Control-Allow-Origin", "*");
        xhr.setRequestHeader("Access-Control-Allow-Methods", "GET, PUT, POST, DELETE, HEAD, OPTIONS");
        xhr.onreadystatechange = function () {
            console.log(this.responseText)
            if (this.readyState == 4 && this.status == 200) {
                  var json = JSON.parse(xhr.responseText);
                  results = document.getElementById("results")
                  results.innerHTML = ""
                  for(var elem of json.slice(0, 10)){
                    results.innerHTML += elem+"  ";
                  }
                console.log(json);
            }
        };
        var abstract = document.getElementById("abstract").value
        var claims = document.getElementById("claims").value

        var data = JSON.stringify({"abstract":abstract, "claims":claims});
        console.log(data);
        xhr.send(data);
    }

        
  </script>
  <div class="container">
  <div class="row">
    <div class="col">
          <div>Put your abstract here:</div>
          <textarea placeholder="Put your abstract here" class="textareas" id="abstract" rows="10" cols="29"></textarea>

    </div>
    <div class="col">
          <div>...And your claims here:</div>
          <textarea placeholder="Put your claims here" class="textareas" id="claims" rows="10" cols="29"></textarea>
    </div>
  </div>
  <div class="row">
<button class="btn btn-primary" id="send" onclick="sendData()">Get results</button>
      <div id="results"></div>
  </div>
</div>

</body>
</html>